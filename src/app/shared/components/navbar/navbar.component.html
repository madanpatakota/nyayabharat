<header class="misard-navbar">
  <div class="nav-container">

    <!-- BRAND -->
    <div class="nav-brand" routerLink="/">
      <div class="brand-row">
        <svg class="law-icon" viewBox="0 0 64 64" aria-hidden="true">
          <path d="M32 6v40" stroke="currentColor" stroke-width="3" />
          <path d="M16 14h32" stroke="currentColor" stroke-width="3" />
          <path d="M12 18l8 16 8-16" fill="none" stroke="currentColor" stroke-width="2"/>
          <path d="M36 18l8 16 8-16" fill="none" stroke="currentColor" stroke-width="2"/>
          <path d="M20 36c0 4 8 4 8 0" stroke="currentColor" stroke-width="2"/>
          <path d="M44 36c0 4 8 4 8 0" stroke="currentColor" stroke-width="2"/>
          <rect x="26" y="46" width="12" height="6" rx="2" fill="currentColor"/>
        </svg>

        <div class="brand-text">
          <span class="brand-name">Nyayabharat</span>
          <span class="brand-tagline">Indian Law Awareness</span>
        </div>
      </div>
    </div>

    <!-- MOBILE TOGGLE -->
    <button
      class="nav-toggle"
      aria-label="Toggle navigation"
      (click)="toggleMobileMenu($event)">
      â˜°
    </button>

    <!-- NAV LINKS + MOBILE LOGIN -->
    <nav class="nav-links" [class.open]="menuOpen">

      <a routerLink="/situations" routerLinkActive="active" (click)="closeMenu()">
        {{ translations['UI_NAV_SITUATIONS'] || '' }}
      </a>

      <a routerLink="/acts" routerLinkActive="active" (click)="closeMenu()">
        {{ translations['UI_NAV_ACTS'] || '' }}
      </a>

      <a routerLink="/quiz" routerLinkActive="active" (click)="closeMenu()">
        {{ translations['UI_NAV_QUIZ'] || '' }}
      </a>

      <a routerLink="/about" routerLinkActive="active" (click)="closeMenu()">
        {{ translations['UI_NAV_ABOUT'] || '' }}
      </a>

      <!-- âœ… MOBILE AUTH -->
      <a
        *ngIf="!user"
        routerLink="/auth/login"
        class="mobile-login"
        (click)="closeMenu()">
        Login
      </a>

      <a
        *ngIf="user"
        routerLink="/user/dashboard"
        class="mobile-login"
        (click)="closeMenu()">
        Dashboard
      </a>

    </nav>

    <!-- LANGUAGE SELECTOR -->
    <app-language-selector></app-language-selector>

    <!-- DESKTOP AUTH -->
    <div class="auth-actions">

      <a
        *ngIf="!user"
        routerLink="/auth/login"
        class="login-btn">
        Login
      </a>

      <div *ngIf="user" class="user-menu">
        <div class="user-trigger" (click)="toggleUserMenu($event)">
          ðŸ‘¤ {{ user.userName }}
          <span class="arrow">â–¾</span>
        </div>

        <div class="user-dropdown" *ngIf="dropdownOpen">
          <a routerLink="/user/dashboard">Dashboard</a>
          <a routerLink="/user/progress">Progress</a>
          <a (click)="logout()">Logout</a>
        </div>
      </div>

    </div>

  </div>
</header>
