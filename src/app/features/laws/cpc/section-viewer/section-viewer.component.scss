/* ========= Responsive tokens ========= */
:root{
  --nb-h-m: 64px;             /* navbar height (mobile) */
  --nb-h-d: 76px;             /* navbar height (desktop) */
  --nb-h: var(--nb-h-m);
  --safe-top: env(safe-area-inset-top, 0px);
}
@media (min-width: 992px){ :root{ --nb-h: var(--nb-h-d); } }

/* ========= Layout shell ========= */
.viewer{ padding-top: 0; }

/* HERO */
/* Deep brand hero (mobile + desktop) */
.hero{
  position: relative; color:#fff; margin:0; isolation:isolate;

  /* TOP layers = subtle white sheens */
  background-image:
    radial-gradient(1000px 360px at 12% -180px, rgba(255,255,255,.18), transparent),
    radial-gradient(1000px 360px at 88% -220px, rgba(255,255,255,.12), transparent),

    /* BOTTOM layer = solid brand gradient (the anchor colour) */
    linear-gradient(
      180deg,
      var(--brand-800, #0d3347) 0%,
      var(--brand-700, #134b6a) 55%,
      var(--brand-600, #1a5f84) 100%
    );
}

/* Ensure hero text stays bright */
.hero .title, .hero .subtitle, .hero .crumbs a{ color:#fff; }

.hero .hero-inner{
  padding: clamp(18px, 2.2vw, 28px) clamp(16px, 3vw, 24px) clamp(14px, 2.2vw, 20px);
}
.hero .crumbs{ opacity:.9; font-weight:700; letter-spacing:.2px; }
.hero .crumbs a{ color:#fff; opacity:.95; }
.hero .title{
  font-weight:900; line-height:1.08;
  font-size: clamp(22px, 2.4vw + 10px, 40px);
  margin:.35rem 0 .25rem;
}
.hero .subtitle{ opacity:.9; font-weight:700; font-size: clamp(13px, .9vw + 10px, 18px); }
.hero .tools{ margin-top: clamp(10px, 1.2vw, 16px); display:flex; gap:10px; flex-wrap:wrap; }
.hero .tools .chip{
  border:1px solid rgba(255,255,255,.35); border-radius:999px; padding:.5rem .9rem;
  background: rgba(255,255,255,.12); color:#fff; font-weight:800; backdrop-filter: blur(8px);
}

/* gentle wave sheen */
.hero .hero-waves{ height: 28px; width:100%;
  background: radial-gradient(1000px 200px at 20% -60px, rgba(255,255,255,.28), transparent),
              radial-gradient(1000px 200px at 80% -60px, rgba(255,255,255,.18), transparent);
}


.hero .tools .chip{
  border-color: rgba(255,255,255,.38);
  background: rgba(255,255,255,.14);
  color:#fff;
}

/* ========= Page body ========= */
.content-wrap{ padding: clamp(14px, 2.2vw, 24px); }

/* Sticky Tabs: never collide with navbar; scrollable on small */
.tabs{
  position: sticky;
  top: calc(var(--nb-h) + var(--safe-top) + 6px);
  z-index: 20;
  display: flex; gap:8px; flex-wrap: wrap;
  background:#fff; border:1px solid var(--border); border-radius:999px;
  padding:6px; box-shadow: var(--shadow-sm);
}
@media (max-width: 780px){
  .tabs{
    flex-wrap: nowrap; overflow-x: auto; overscroll-behavior: contain;
    -webkit-overflow-scrolling: touch; scrollbar-width: none;
  }
  .tabs::-webkit-scrollbar{ display:none; }
}
.tabs > button{
  border:0; background:transparent; padding:.7rem 1rem; border-radius:999px;
  font-weight:900; color:var(--muted); white-space: nowrap; flex: 0 0 auto;
  transition: transform .15s ease, background .2s ease, color .2s ease;
}
.tabs > button:hover{ transform: translateY(-1px); }
.tabs > button.active{
  color:#fff; background: linear-gradient(90deg, var(--brand), var(--brand-700));
  box-shadow: 0 10px 24px rgba(20,66,100,.18);
}

/* Panels & cards */
.panel{ margin-top: clamp(12px, 1.5vw, 18px); }
.panel .card{
  border:1px solid var(--border); border-radius:20px; background:#fff;
  padding: clamp(14px, 2.4vw, 24px); box-shadow: var(--shadow-sm);
}
.h-1{ font-size: clamp(18px, 1.2vw + 14px, 26px); font-weight: 900; margin: 0 0 .4rem; }
.lead{ font-size: clamp(15px, 1vw + 12px, 19px); color: var(--ink); }

/* Lists */
.bullets, .notes{ margin-top: .85rem; padding-left: 1.15rem; }
.steps{ margin-top: .85rem; padding-left: 1.25rem; }

/* Examples grid */
.examples{ display:grid; gap:14px; grid-template-columns: 1fr; }
@media (min-width: 768px){ .examples{ grid-template-columns: repeat(2, minmax(0,1fr)); } }
@media (min-width: 1200px){ .examples{ grid-template-columns: repeat(3, minmax(0,1fr)); } }
.ex{ border:1px solid var(--border); border-radius:16px; padding:12px; background:#fff; box-shadow: var(--shadow-xs); }
.ex-title{ font-weight:900; display:flex; align-items:center; gap:8px; }
.ex-facts{ color: var(--muted); font-weight:600; margin-top: 4px; }
.ex-outcome{ margin-top:6px; font-weight:700; }

/* Judgments */
.judgments{ display:grid; gap:12px; }
.judg{ border:1px solid var(--border); border-radius:14px; padding:12px; background:#fff; }
.judg .row1{
  display:grid; grid-template-columns: 64px 1fr auto; gap:10px; align-items:center;
}
@media (max-width: 480px){
  .judg .row1{ grid-template-columns: 54px 1fr; }
  .judg .row1 .year{ grid-column: 2 / -1; justify-self: end; }
}
.court{
  display:inline-flex; justify-content:center; align-items:center;
  min-width:54px; height:28px; border-radius:999px; font-weight:900;
  background:#eef3fa; color:#3a5771;
}
.court.sc{ background: color-mix(in oklab, var(--brand) 14%, #eef3fa); color: var(--brand-800); }
.court.hc{ background:#f4efe9; color:#7a4b00; }
.row2{ display:flex; gap:10px; flex-wrap: wrap; color: var(--muted); font-weight:600; }

/* Related chips */
.chips{ display:flex; gap:10px; flex-wrap: wrap; }
.chip.link{
  display:inline-flex; align-items:center; gap:6px;
  border:1px solid var(--border); border-radius:999px; padding:.46rem .8rem;
  background:#fff; font-weight:800;
  transition: transform .15s ease, box-shadow .2s ease, border-color .2s ease;
}
.chip.link:hover{ transform: translateY(-1px); box-shadow: var(--shadow-sm); border-color: color-mix(in oklab, var(--brand) 16%, var(--border)); }

/* Small helpers */
:root{ --shadow-xs: 0 4px 10px rgba(16,24,40,.06); }
/* --- Chip scroller: mobile-first, buttery smooth --- */
.chip-scroller{
  display: flex;
  gap: 10px;
  padding: 8px 2px 2px;
  margin: 6px 0 14px;

  overflow-x: auto;
  overscroll-behavior-x: contain;
  -webkit-overflow-scrolling: touch;
  scroll-snap-type: x mandatory;

  /* Hide scrollbars (cross-browser) */
  scrollbar-width: none;
  &::-webkit-scrollbar{ display: none; }

  /* Edge fade */
  mask-image: linear-gradient(to right, transparent 0, #000 18px, #000 calc(100% - 18px), transparent 100%);
  -webkit-mask-image: linear-gradient(to right, transparent 0, #000 18px, #000 calc(100% - 18px), transparent 100%);
}

.chip{
  flex: 0 0 auto;                 /* don’t shrink */
  scroll-snap-align: start;
  border: 1px solid var(--border);
  background: #fff;
  border-radius: 999px;
  padding: .52rem .9rem;
  font-weight: 800;
  color: var(--ink);
  box-shadow: var(--shadow-xs);
  line-height: 1;
  min-height: 34px;
  /* touch target */
  min-width: 44px;                /* WCAG hit-area */
  text-align: center;
  transition: transform .15s ease, box-shadow .2s ease, border-color .2s ease, background .2s;
}
.chip:active{ transform: scale(.98); }
.chip:hover{ box-shadow: var(--shadow-sm); border-color: color-mix(in oklab, var(--brand) 16%, var(--border)); }

/* Make room on larger screens so it looks intentional */
@media (min-width: 900px){
  .chip-scroller{
    gap: 12px;
    margin: 8px 0 16px;
    mask-image: none; -webkit-mask-image: none; /* no fade on wide */
  }
}

/* Small shadow tokens if you don’t already have them */
:root{
  --shadow-xs: 0 4px 10px rgba(16,24,40,.06);
  --shadow-sm: 0 8px 20px rgba(16,24,40,.08);
}
