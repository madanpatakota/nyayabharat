/* ===== Navbar V3 — sleek capsule design (no underlines, no wrapping) ===== */

.nb3{
  position:fixed; inset:0 0 auto 0; z-index:1000;
  background:var(--surface);
  border-bottom:1px solid var(--border);
  backdrop-filter:saturate(140%) blur(10px);
  -webkit-backdrop-filter:saturate(140%) blur(10px);
}

.nb3-bar{
  height:82px; display:flex; align-items:center; gap:var(--s-5);
  justify-content:space-between; flex-wrap:nowrap; overflow:hidden;
}

/* Brand */
.brand{
  display:flex; align-items:center; gap:12px; text-decoration:none;
  .logo{
    width:42px; height:42px; border-radius:50%; display:grid; place-items:center;
    background: radial-gradient(circle at 35% 35%, rgba(110,155,245,.25), rgba(20,66,100,.22));
    box-shadow:inset 0 0 0 2px rgba(255,255,255,.25);
    i{ color:#fff; font-size:1.05rem; text-shadow:0 1px 0 rgba(0,0,0,.12); }
    &.sm{ width:36px; height:36px; }
  }
  .title{ font-weight:900; letter-spacing:.2px; font-size:var(--font-l); color:var(--ink); white-space:nowrap; }
}

/* Primary nav — single row, tight spacing, capsule active */
.primary{
  display:flex; gap:var(--s-3); white-space:nowrap; /* never wrap */
  a{
    text-decoration:none; color:var(--muted); font-weight:800; font-size:0.98rem;
    padding:.44rem .56rem; border-radius:999px; /* capsule */
    transition: color var(--t) var(--ease), background var(--t) var(--ease), transform var(--t) var(--ease), box-shadow var(--t) var(--ease);
  }
  a:hover{
    color:var(--ink);
    background: color-mix(in oklab, var(--brand) 8%, #fff);
    transform: translateY(-1px);
  }
  a.active{
    color:#fff; background: linear-gradient(90deg, var(--brand), var(--brand-700));
    box-shadow:0 10px 24px rgba(20,66,100,.20);
  }
}

/* Actions */
.actions{
  display:flex; align-items:center; gap:10px; flex-shrink:0;
  .icon{
    width:42px; height:42px; border-radius:14px; border:1px solid var(--border);
    background:var(--surface); display:grid; place-items:center;
    transition:transform var(--t) var(--ease), box-shadow var(--t) var(--ease), border-color var(--t) var(--ease);
  }
  .icon:hover{ transform:translateY(-1px); box-shadow:var(--shadow-sm); border-color: color-mix(in oklab, var(--border), var(--brand) 18%); }
  .cta{
    text-decoration:none; display:inline-flex; align-items:center; gap:8px; padding:.6rem .9rem; border-radius:16px;
    background:var(--brand); color:#fff; font-weight:800; box-shadow:var(--shadow-sm);
    transition:transform var(--t) var(--ease), box-shadow var(--t) var(--ease), background var(--t) var(--ease);
    &.block{ width:100%; justify-content:center; }
  }
  .cta:hover{ transform:translateY(-1px); box-shadow:var(--shadow); background:var(--brand-600); }
}

/* Drawer (mobile) */
.drawer-back{
  position:fixed; inset:82px 0 0 0; background:rgba(0,0,0,.28); opacity:0; pointer-events:none;
  transition:opacity var(--t) var(--ease);
  &.open{ opacity:1; pointer-events:auto; }
  .drawer{
    background:var(--surface); border:1px solid var(--border); border-radius:24px 24px 0 0; box-shadow:var(--shadow-lg);
    max-width:760px; margin:0 auto; transform:translateY(8px);
    padding:var(--s-6); display:flex; flex-direction:column; gap:var(--s-4);
    .head{ display:flex; align-items:center; gap:10px; }
    a{
      text-decoration:none; font-weight:800; color:var(--ink); padding:.72rem; border-radius:14px;
      transition:background var(--t) var(--ease), color var(--t) var(--ease);
    }
    a:hover{ background:var(--bg); }
    a.active{ background: linear-gradient(90deg, var(--brand), var(--brand-700)); color:#fff; }
  }
}

.nb3-bar {
  height: 82px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  flex-wrap: nowrap;
  /* Remove container limits */
  max-width: 100% !important;
  width: 100%;
  padding-inline: 28px; /* even spacing left & right */
  gap: var(--s-5);
}


/* Responsiveness: compress spacing just before mobile to avoid wrapping */
@media (max-width: 1280px){
  .primary a{ padding:.36rem .5rem; font-size:.94rem; }
  .nb3-bar{ gap:var(--s-4); }
}
@media (max-width: 1140px){
  .primary{ gap:var(--s-2); }
  .primary a{ padding:.32rem .44rem; font-size:.9rem; }
}
